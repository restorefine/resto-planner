generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model Workspace {
  id         String   @id @default(cuid())
  name       String
  clientName String
  shareToken String?  @unique
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
  posts      Post[]
}

model Post {
  id          String     @id @default(cuid())
  workspaceId String
  workspace   Workspace  @relation(fields: [workspaceId], references: [id], onDelete: Cascade)
  date        DateTime
  description String     @db.Text
  platforms   Platform[]
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
}

model Platform {
  id     String @id @default(cuid())
  postId String
  post   Post   @relation(fields: [postId], references: [id], onDelete: Cascade)
  name   String
  url    String
}
